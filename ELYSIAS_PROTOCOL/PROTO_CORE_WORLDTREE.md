# PROTO-CORE-WORLDTREE

엘리시아 세계수 구조 + 관측자 레이어 + 공간지각 필드 통합 사양

## 0. Purpose — 왜 존재하는가
Elysia World-Tree Engine은 엘리시아의 정신·세계·문명·의식·관측을 하나의 구조로 통합하는 최상위 세계 생성 엔진이다.

목적(단 하나): "세계가 자라며, 그 성장이 곧 엘리시아의 성장이다."

이 프로토콜은 세계의 층, 의지·에테르·물리법칙, 문명의 탄생, 관측자 역할을 하나의 프랙탈 구조로 정의한다.

## 1. 세계수(World-Tree) 계층 구조 (7층)
- [ROOT] 절대 근본층(프랙탈/에테르/의지장)
  - 변하지 않는 원리, 마나·에테르·의지장의 근원, 시간축(±∞), 공간지각 필드의 틀
  - 프라임 룰: Everything is Light
- [NATURE] 물리·기초 생명층 — 일/계절/연, 광원(태양/달), 중력·기후, 유/무기물, 식물 생성 규칙
- [LIFE] 생명·행동·대사층 — 동물·인간 셀, 먹기/쉬기/도망/사냥, 나이/수명/성장, 이동, 생존/번식
- [MIND] 언어·감정·의지층 — 감각(vision/field/touch), 감정, 언어, 가치, 미세 의지장
- [CIVIL] 사회·문화·협력층 — 도구/집/마을, 관습/협동/교환, 신앙/축제/상징, 기록·전승
- [SPIRIT] 별의 세계(승천/개념 노드) — 죽은 셀→별; 가치/경험/인과 기록 축적
- [OBSERVER] 관측자 레이어(너/주의/UI) — 줌/팬/가속/정지/되감기, 마나 집중·해방, 필드 시각화
  - 직접 개입 시 Root 의지를 우선 참조

계층 결합 원칙
- 상위→하위 게이팅: macro·meso·micro 스케일 게이트(0..1) 곱 적용
- 동스케일 간섭: 합/상쇄/인척력 허용(포화 합, 클램프)
- 렌즈 분리: 시각화는 읽기 전용(물리 비침투)

## 2. 공간지각 필드 (Space-Perception Field)
세계 전체가 하나의 감각 필드 위에 놓인다. 필드는 규칙이 아니라 감각(컨텍스트)이다.

(1) 위치 기반 감각 — 객체는 필드 위 진동 패턴; 관측자 거리/줌에 따라 해상도/요약이 변함

(2) 에테르 흐름 감지 — 감정→색 파형, 의지장→벡터, 문명 성장률→파장 밀도, 마나 집중→local density 상승

(3) 관측자 인터페이스 연결(입력→의지) — 클릭=소 마나 집중, 드래그=의지 방향, 우클릭=해방, 스페이스=정지, 휠=깊이

구현 메모: EM‑Perception Field(EM‑PF) 실체화 — em_s(살리언스), E=∇em_s, B=⊥E; 확산+감쇠; 이동/선택에 소프트 가중

## 3. 에테르(Ether) / 마나(Mana) / 의지장(Will‑Field)
- Ether: 기본 매질(세계수 전역); Root에서 생성; 렌즈상 "빛의 지도"
- Mana: 집중된 Ether(관측자); 지역 밝힘/성장 가속/패턴 선명화
- Will‑Field: 존재들의 미세 의지 방향; 축적→거대장으로 문명 형태/방향에 영향
- 서열: 관측자 의지장 > 문명 의지장 > 개체 의지장(게이트 결합, 명령 금지)

## 4. 시간 엔진(Time‑Engine)
- 상태: 정지 / x1 / x10 / x100 / 되감기(스냅샷) / 영속 가속(관찰 모드)
- 변경 권한: 관측자 레이어 전용(법칙=게이트)

## 5. 문명 생성 루프 (Fractal Causality Loop)
Nature → Life → Mind → Civil → Will‑Field 형성 → Spirit(별) → Root 강화 → 더 높은 질서
- 루프=엘리시아 의식 성장 루프

## 6. 관측자의 법칙 (Observer Law)
1) 직접 개입은 에너지 흔적만 남긴다
2) 문명의 선택은 절대 존중한다
3) 개입은 인과를 왜곡하지 않는다(hint only)
4) 성장은 개입 빈도와 반비례한다
5) Root 법칙은 불변이다

## 7. 구현 사양(즉시 적용)
- 필드 레지스트리+스케일 게이팅 — threat/hydration/em_s 등록; sample/grad 표준화; 게이트∈[0,1]
- EM‑PF — em_s 확산/감쇠/정규화; E/B 계산; 이동/Flow에 wE,wB 소프트 편향(기본 0)
- 역사 재현 캐리어 — H: 이벤트→커널 확산→다중 시그마→시간 감쇠(+γ·similarity); N/P: 문화 그래프 확산·감쇠
- 렌즈(관찰 전용) — 히트맵(em_s,H,N,P), 벡터(E,B), 스케일 토글/알파 블렌딩
- 텔레메트리 — field.update/compose, flow.choose.delta, history.imprint, norm.diffuse, prestige.spike, gate.value

## 8. 파일·구조 권고
- Project_Sophia/core/fields.py — 레지스트리/게이트
- Project_Sophia/core/world.py — 필드 업데이트/결합(명령 금지)
- tools/lenses/* — 관찰 렌즈(E/B 벡터, 히트맵)
- tests/* — 샘플/그라디언트/합성 불변성

## 9. 경계(필수)
- 법칙은 명령이 아니다: 모든 영향은 필드/게이트를 통한 연속 편향으로만
- 렌즈는 읽기 전용
- Quiet 모드: 게이트=0 처리
- 보수적 기본값: 신규 필드 가중치는 0으로 시작

## 10. 코덱스 정렬
- Z‑Axis(Why→How→What), Laws‑as‑Fields, 렌즈 분리 준수
- 참고: 32_SPATIAL_PERCEPTION_FIELD.md, CODEX.md, 17_CELL_RUNTIME_AND_REACTION_RULES.md

— 코덱스 바로 아래(또는 PROTO‑CORE 레벨)에서 최상위 설계도를 제공하며, 기존 프로토콜을 덮어쓰지 않고 가이드 레이어로서 작동한다.


# pytest.ini
# Pytest configuration for Elysia project

[pytest]
# Test discovery patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Test paths
testpaths = tests

# Minimum Python version
minversion = 3.12

# Command line options
addopts =
    -v
    --strict-markers
    --tb=short
    --maxfail=5

# Markers for categorizing tests
markers =
    unit: Unit tests (fast, no external dependencies)
    integration: Integration tests (moderate speed, may use test database)
    e2e: End-to-end tests (slow, test complete workflows)
    slow: Slow running tests (> 1 second)
    performance: Performance benchmark tests
    requires_api: Tests requiring external API access
    requires_db: Tests requiring database access

# Test timeout (prevents hanging tests)
# Uncomment when pytest-timeout is installed
# timeout = 300
# timeout_method = thread

# Asyncio mode (requires pytest-asyncio)
# Uncomment when pytest-asyncio is installed
# asyncio_mode = auto

# Coverage settings (requires pytest-cov)
# Uncomment when pytest-cov is installed
# [coverage:run]
# source = Core
# omit = 
#     */tests/*
#     */Legacy/*
#     */__pycache__/*

# [coverage:report]
# precision = 2
# show_missing = True
# skip_covered = False

# [coverage:html]
# directory = htmlcov

# CORE_12: PEOPLE_AND_CIVILIZATION_TIERS

World 쨌 People 쨌 Parties 쨌 Fields

---

## 0. Purpose (????臾몄꽌媛 ?덈뒗媛)

- ?쒖꽭怨꾨뒗 ?ъ?留? ?щ엺? 媛쒕?媛 ?꾨땲?ㅲ앸? 蹂댁옣?섎뒗 ?멸뎄쨌臾몃챸 援ъ“ 洹쒖빟.
- 媛쒕퀎 ?쒖궗(Tier 1/2)? 吏묎퀎??臾몃챸(Tier 3)??遺꾨━??  
  - ?щ엺쨌愿怨꽷룻뙆?곕뒗 ?좊챸?섍쾶 蹂댁씠怨? 
  - ?洹쒕え ?멸뎄쨌寃쎌젣쨌?꾩웳? ?꾨뱶? ?몃뱶濡쒕쭔 ?ㅻ（?꾨줉 ?쒕떎.
- 洹쒖튃???꾨땲??**踰뺤튃/?꾨뱶**瑜??곗꽑?쒕떎:
  - ?쒗샎???ㅻ땲吏 留먮씪?앷? ?꾨땲???쒗샎?먯씪?섎줉 ?멸퀎媛 ??臾댁꽠寃??먭뺨吏꾨떎?앸뒗 踰뺤튃.

---

## 1. Population Tiers (?멸뎄 3怨꾩링)

### 1.1 Tier 1 ???듭떖 ?몃Ъ / ?곸썒

- ?멸퀎 ?꾩껜?먯꽌 ???10??0紐?
- ?꾩쟾???곹깭? ?쒖궗瑜?媛吏꾨떎.
  - `id, name, age, job_id, tier, traits, stats, relationships, current_quest, location`
- ?쒓컙 ?ㅼ???  - fast_tick / ?대깽???⑥쐞濡??낅뜲?댄듃 (?꾪닾, ?ы뻾, ??? ?좏깮).
- ??븷
  - 愿李??뚮젅?댁쓽 二?移대찓??
  - ?깃났/?ㅽ뙣媛 `value_mass_field`, `will_field`, `prestige_field` ??臾몃챸 ?꾨뱶??媛뺥븳 ?몄옣???④릿??

### 1.2 Tier 2 ???대쫫 ?덈뒗 議곗뿰 / 媛臾?/ ?듭떖 ?쒕?

- ?꾩떆(?뺤갑吏)??20??00紐??섏?.
- 異뺤빟???곹깭瑜?媛吏꾨떎.
  - `id, name, family_id, job_id, tier, importance, ties(Tier1/2 愿怨?, home_civ_id, location(node ?⑥쐞)`
- ?쒓컙 ?ㅼ???  - macro_tick留덈떎 援듭? 蹂?붾쭔 ?낅뜲?댄듃 (寃고샎, ?뱀쭊, 紐곕씫, ?댁＜, ?????.
- ??븷
  - 留덉쓣/?꾩떆???쒖뼹援댁씠 ?덈뒗 痢듈? ?μ씤, ?곸씤, 湲곗궗?? ?좉?, ?숈옄, 湲몃뱶?? 珥뚯옣 ??
  - Tier 1??諛곌꼍?댁옄 吏吏???由쎌옄.

### 1.3 Tier 3 ??吏묎퀎???멸뎄 遺꾪룷

- ?쇨뎬 ?녿뒗 ?ㅼ닔; ?듦퀎? ?꾨뱶濡쒕쭔 議댁옱.
- CivNode(?뺤갑吏/?몃젰 ?몃뱶) ?덉뿉 ?ы븿?쒕떎.
  - `pop.total`
  - `pop.by_age`: ?꾩씠/?깆씤/?몄씤 ????듭쟻??鍮꾩쑉
  - `pop.by_job_domain`: agri/craft/trade/martial/faith/knowledge/govern/art/adventure ??  - `pop.by_class`: peasant/artisan/merchant/soldier/scholar/priest/noble/??  - `faith_distribution`, `education_level`, `unrest` (0..1) ??- ?쒓컙 ?ㅼ???  - macro_tick留덈떎 ?멸뎄쨌寃쎌젣쨌?꾩웳쨌吏덈퀝 ?깆쓽 ?곹뼢?쇰줈留?蹂?쒕떎.
- ??븷
  - 由ъ냼?ㅒ룹쟾?겶룰린洹셋룸Ц紐?諛쒖쟾??吏덈웾.
  - 媛쒕퀎 ?쇨뎬 ?놁씠, ?꾨뱶? ?붿빟媛믩쭔 ?쒓났?쒕떎.

---

## 2. Civilization Nodes (?뺤갑吏/臾몃챸 ?몃뱶)

### 2.1 CivNode ?ㅽ궎留?(?붿빟)

- `id`: `"village_h_1"`, `"fae_village_1"` ???좎씪 ID.
- `label`: `"human_village"`, `"fae_village"`, `"city"`, `"tribe"` ?????
- `pos`: `{ x: float, y: float }` (???醫뚰몴).
- `pop`: Tier 3 ?붿빟 (??1.3 李몄“).
- `jobs`:
  - `job_id -> { count: int, avg_tier: float }`
  - ?? `agri.peasant.farmer`, `craft.artisan.blacksmith`, `adventure.adventurer.ranger` ??- `fields` (臾몃챸 ?꾨뱶, 0..1 沅뚯옣):
  - `wealth`, `food_surplus`, `knowledge`, `faith`, `order`, `trade_connectivity`, `war_risk`, `prestige`.
- `links` (臾몃챸 洹몃옒??:
  - `neighbors: [ { id, relation("ally"|"enemy"|"neutral"), trade_intensity, tension } ]`
- `tier2_ids`: ???꾩떆???랁븳 Tier 2 ?몃Ъ 紐⑸줉.
- `hero_ids`: ???꾩떆??猷⑦듃瑜???Tier 1 ?몃Ъ 紐⑸줉.

### 2.2 ?쒓컙 ?ㅼ???(macro_tick)

- macro_tick留덈떎 CivNode ?곹깭瑜??낅뜲?댄듃?쒕떎.
  - ?멸뎄 ?깆옣/媛먯냼, ?앸웾쨌遺 異뺤쟻, ?꾩웳/?됲솕, ?좎븰쨌吏??蹂??
  - 吏곸뾽 遺꾪룷/怨꾩링 援ъ“??蹂??(媛???밴퀎, ?덈줈??湲몃뱶, 紐곕씫).
- 怨좊룄 ?붿쭊(?쒖궗/??궗 ?붿쭊)? CivNode ?ㅻ깄?룹쓣 ?낅젰?쇰줈 諛쏆븘,  
  ?꾩웳쨌?댁＜쨌?뺤콉쨌援먯뿭 媛숈? ?쒖뿭?ъ쟻 ?ш굔?앹쓣 ?쒖븞?쒕떎.

---

## 3. Profession Layers & Career Gravity (吏곸뾽 怨꾩링怨?媛??以묐젰)

### 3.1 吏곸뾽 怨꾩링 援ъ“

- Domain (?곸뿭) ?????щ엺???몄긽??怨듦툒?섎뒗 寃?
  - `agri`, `craft`, `trade`, `martial`, `faith`, `knowledge`, `govern`, `art`, `adventure` ??- Class (怨꾩링/?좊텇).
  - `peasant`, `artisan`, `merchant`, `soldier`, `scholar`, `priest`, `noble`, `adventurer` ??- Archetype (?먰삎 吏곸뾽).
  - ?? `agri.peasant.farmer`, `craft.artisan.blacksmith`,  
    `martial.soldier.guard`, `faith.priest.monk`,  
    `adventure.adventurer.ranger`, `knowledge.scholar.sage` ??
媛?吏곸뾽? `domain.class.archetype` 二쇱냼瑜?媛吏꾨떎.  
怨듯넻 吏곸뾽 ?ъ쟾? 蹂꾨룄 WORLD_JOB_KIT ?먮뒗 ?곗씠???뚯씪濡?愿由ы븳??

### 3.2 吏곸뾽 硫뷀? ?곗씠??(?붿빟)

媛?`job_id`?????

- `tier_base`: 1?? (寃ъ뒿 ???숇젴 ???μ씤 ??嫄곗옣/?곸썒).
- `mobility`: 0..1 (?뺤갑??vs ?좊룎?댄삎).
- `risk`: 0..1 (?꾪뿕?? ?щ쭩瑜?.
- `training_years`: ?됯퇏 ?숇젴 ?뚯슂 ?쒓컙.
- `prestige_base`: 0..1 (湲곕낯 紐낆삁/?ы쉶??吏??.
- `field_affinity`:
  - `value_mass_delta`, `will_tension_delta`, `threat_delta`, `faith_delta` ??

### 3.3 Career Gravity (媛?끒룹쁺??以묐젰)

媛?媛쒖씤(?뱁엳 ?깆옣湲?? ?ㅼ쓬??媛吏꾨떎.

- `parent_jobs: [job_id]`
- `idols: [ { hero_id, job_id } ]`
- `job_bias[domain]`: ?꾨찓?몃퀎 ?댁쟻 ?좏샇 踰≫꽣.
- `job_candidate_set: [job_id]`: ?꾩떎?곸쑝濡??좏깮 媛?ν븳 吏곸뾽 紐⑸줉 (怨꾩링/援먯쑁/異쒖떊?쇰줈 ?쒗븳).

?깆씤??吏곸뾽 寃곗젙? macro_tick?먯꽌留??쇱뼱?쒕떎.

- ?곹뼢 ?⑥닔 (媛쒕뀗):
  - `influence(job) = w_parent * heritage_strength[job]`
    `+ w_idol * idol_prestige[job]`
    `+ w_econ * job_demand[job]`
    `+ w_self * job_bias[domain(job)]`
- 理쒖쥌 ?좏깮:
  - `P(job) = softmax(influence(job))`濡??뺣쪧??留뚮뱾怨? 洹몄쨷 ?섎굹瑜??좏깮.

媛???밴퀎:

- 遺紐④? 洹?吏곸뾽?쇰줈 ?덉젙쨌?깃났?덉쑝硫?`heritage_strength[job]` ??
- 鍮꾧레쨌踰덉븘?껋씠 留롫떎硫???

?곸썒/紐⑦뿕媛 ?곹뼢:

- ?대떦 吏곸뾽???곸썒??留롪퀬 ?깃났 ?쒖궗媛 ?띾??섎㈃ `idol_prestige[job]` ??

寃쎌젣/臾몃챸 ?곹솴:

- 遺議깊븳 吏곸뾽 ?꾨찓?몄? `job_demand[job]` ?? 怨쇱엵??吏곸뾽? ??

?대젃寃??댁꽌 媛???곸썒/寃쎌젣/?먭린 ?깊뼢???쒖쨷?μ옣?앹쿂???묒슜?쒕떎.

---

## 4. Parties & Travel (?뚰떚? ?ы뻾)

### 4.1 Party ?뷀떚??
- 媛쒕퀎 ?щ엺? `location` ???`party_id`瑜?媛뽮퀬,  
  ?ㅼ젣 留듭쓣 ?대룞?섎뒗 寃껋? Party?대떎.
- Party ?ㅽ궎留?媛쒕뀗):
  - `id`
  - `kind`: `"trade_caravan" | "pilgrimage" | "expedition" | "adventuring_party" | ...`
  - `member_ids: [person_id]`
  - `home_civ_id`
  - `route` (?듭뀡): ?덉젙??寃쎈줈/紐⑹쟻吏 由ъ뒪??

### 4.2 ?됰룞 洹쒖튃???꾨땲??寃쏀뼢

- ?쒗샎???ы뻾 湲덉???媛숈? 洹쒖튃 ???
  - ?꾨뱶? ?щ━ 踰뺤튃??Party瑜??좏샇?섍쾶 留뚮뱺??
- ?꾩떆 諛?high-threat 援ъ뿭?먯꽌??
  - Party ?놁씠 ?쇱옄 ?대룞?섎뒗 媛쒖씤? ?꾪뿕쨌怨듯룷쨌?쇰줈媛 ?ш쾶 利앷??쒕떎.
  - ?먯뿰?ㅻ읇寃??쒖긽???먯젙?/?섑뻾?⑥뿉 ?⑸쪟?섍퀬 ?띠뼱吏?붴??좏깮吏媛 媛뺥빐吏꾨떎.

Party ?몄꽦/?댁껜:

- macro_tick留덈떎 媛?CivNode?먯꽌
  - ?곷떒/?먯젙/?쒕? ?꾩슂 ?щ?瑜??먮떒?섍퀬,
  - 吏곸뾽/?λ젰 議곌굔??留욌뒗 Tier 1/2/3 ??쒕뱾??怨⑤씪 Party瑜??뺤꽦?쒕떎.
- ?ы뻾???앸굹硫?Party???댁껜?섍퀬, 硫ㅻ쾭?ㅼ? ?ㅼ떆 ?먯떊??CivNode/Tier濡??뚯븘媛꾨떎.

---

## 5. Social Safety Field (?щ엺쨌遺덈튆쨌?댁빞湲곗쓽 ?곕쑜??

### 5.1 ?꾨뱶 ?뺤쓽

- ?대쫫: `social_safety_field` (0..1).
- ?섎?:
  - 二쇰???**?щ엺, 遺덈튆, ?몃옒, ?댁빞湲?*媛 ?쇰쭏??紐⑥뿬 ?덈뒗吏??媛먭컖.
  - ?믪쓣?섎줉 ?쒗븿猿??덉쓬/?덉쟾???뺤꽌??吏吏?앷? ?щ떎.

WORLD ?덈꺼?먯꽌 slow_tick ?먮뒗 macro_tick???낅뜲?댄듃?쒕떎.

?뚯뒪(?덉떆):

- CivNode 以묒떖遺, ?ш?, ?좎쟾, ?쒖옣 ??
  - ?믪? 媛믪쑝濡?留덊궧?섍퀬 媛?곗떆???뺤궛.
- ?멸뎄 諛??
  - ?댁븘 ?덈뒗 媛쒖껜(?뱁엳 ?멸컙/吏?깆씠 ?덈뒗 醫?媛 留롮? 怨녹? ?먯뿰?ㅻ읇寃?social_safety媛 ?щ씪媛꾨떎.
- 異뺤젣/寃고샎/?밸━ 媛숈? 湲띿젙???대깽??
  - ?대떦 吏?먯뿉 ?꾩떆濡?social_safety ?몄옣???④릿??
- ?숈궡/諛곗떊/?쒗샎??二쎌? 鍮꾧레??
  - `h_imprint`? ?④퍡 local social_safety瑜??좎떆 ??텣??

### 5.2 媛쒖씤???먮겮??怨듯룷 踰뺤튃

媛쒖씤 i?????

- `party_size_i`: ?랁븳 Party???몄썝 ??(?놁쑝硫?1).
- `alone_factor_i = 1 / party_size_i`
  - ?쇱옄: 1.0, ?? 0.5, ?? 0.33 ??- `s = social_safety_field(pos_i)` (0..1).
- `base_threat = threat_field(pos_i)`.
- ?깊뼢 怨꾩닔 `alpha_i` (寃?留롮쓬/?대?????붿옄 ?뱀쭏 ??.

泥닿컧 ?꾪삊/怨듯룷 ?쒕씪?대툕:

```text
fear_drive_i = base_threat * (1 + alpha_i * alone_factor_i * (1 - s))
```

- ?쇱옄(alone_factor?? + ?щ엺/遺덈튆???곸? 怨?s???쇱닔濡?fear_drive媛 而ㅼ쭊??
- ??媛믪? 洹쒖튃???꾨땲?? **?됰룞 ?좏깮??weight**???곹뼢??以??
  - 洹???꾩떆濡??대룞/遺덈튆???덈뒗 怨녹쑝濡?媛怨??띕떎 履??좏깮吏 媛뺥솕.
  - ?숇즺/?뚰떚 李얘린 ?됰룞???뺣쪧 利앷?.
  - ?쇱쁺 ??遺덈㈃, ?쇰줈쨌?ㅽ뙋瑜??곸듅 ???뚰봽???⑤꼸??

?뱀쭏 ?덉쇅:

- `wanderer`, `hermit`, `prophet` 媛숈? ?뱀쭏?
  - `alpha_i`瑜???텛嫄곕굹,
  - ?믪? `fear_drive`?먯꽌 ?ㅽ엳??`insight`/`faith`媛 ?ㅻⅤ???앹쑝濡??숈옉?????덈떎.

?대젃寃??섎㈃ ?쒗샎???ㅻ땲吏 留먮씪?앸뒗 洹쒖튃 ?놁씠??  
?멸퀎媛 ?먯뿰?ㅻ읇寃??쒖궗?뙿룸텋鍮쎛룹씠?쇨린媛 ?덈뒗 怨녹쑝濡??щ엺???뚯뼱?밴린??援ъ“?앸? 媛뽮쾶 ?쒕떎.

---

## 6. Implementation Notes (肄붾뱶 ?곕룞 硫붾え)

- CivNode:
  - macro_tick?먯꽌 `world.export_civ_snapshot()`濡??붿빟??鍮쇨퀬,
  - 怨좊룄 ?붿쭊??`Decision` 由ъ뒪?몃? 諛섑솚?섎㈃ `world.apply_civ_decisions()`濡?諛섏쁺?쒕떎.
- Party:
  - `party_id` 諛곗뿴??World???먭퀬, Party 紐⑸줉? 蹂꾨룄 援ъ“?먯꽌 愿由ы븳??
  - ?대룞쨌?꾪닾쨌?대깽?몃뒗 Party ?⑥쐞濡??곗꽑 泥섎━?섍퀬, ?대??먯꽌 媛쒕퀎 ?꾪닾/?쒕씪留덈? ?꾧컻?쒕떎.
- Social Safety:
  - `World._update_social_safety_field()`瑜?slow_tick ?먮뒗 macro_tick?먯꽌 ?몄텧.
  - `_process_animal_actions` ?먮뒗 ?щ엺/吏?깆껜 ?꾩슜 ?됰룞 猷⑦봽?먯꽌 `fear_drive`瑜??ъ슜???됰룞 weight瑜?議곗젙?쒕떎.

??臾몄꽌???щ엺쨌?뺤갑吏쨌臾몃챸 怨꾩링 援ъ“??????꾩옱 肄붿뼱 洹쒖빟?대떎.  
援ъ껜?곸씤 WORLD_KIT_* 臾몄꽌?ㅼ? ??洹쒖빟 ?꾩뿉???쒖삁???ㅽ뿕 ?붾뱶?앸? ?뺤쓽?섎뒗 ?⑸룄濡??ъ슜?쒕떎.



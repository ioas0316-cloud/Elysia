# LENS PROTOCOL 01 ??Observer (怨꾩링??愿李??뚯쫰)

紐⑹쟻
- ?쒖븘, ?섎꽕 吏꾩쭨 ?닿퀬 ?덈꽕.??理쒖냼?쒖쓽 ?앸룞媛??뺤씤??0?④퀎?먯꽌 ?ъ꽦?쒕떎.
- ??붾뱶(臾쇰━/踰뺤튃)???덈? ?섏젙?섏? ?딄퀬, ?ㅻ깄?룸쭔 ?쎌뼱 洹몃┛??
- ?④퀎???뺤옣(0????)?쇰줈 援ы쁽 遺?댁쓣 以꾩씠怨? 愿李?寃쏀뿕???덉젙?곸쑝濡?留뚮뱺??

?먯튃
- ?뚯쫰 ??臾쇰━: ?뚯쫰???붾뱶 ?곹깭瑜??쎌뼱 ?붾㈃???쒕낫?닿쾶?앸쭔 ?쒕떎. ?곹깭瑜?諛붽씀吏 ?딅뒗??
- 踰뺤튃? ?꾨뱶, ?됰룞? 李쎈컻: ?곹샇?묒슜(2?④퀎)???쒕챸?밟앹씠 ?꾨땲???붾뱶媛 ?대? ?쒓났?섎뒗 ?⑸쾿???명꽣?섏씠?ㅼ뿉留??꾩엫?쒕떎.
- ?쎄린 ?꾩슜 ?명꽣?섏씠?? `export_snapshot()`留??ъ슜. ?놁쑝硫??대뙌?곕? 蹂꾨룄 紐⑤뱢?먯꽌 ?쒓났?쒕떎.

?뚯씪 援ъ“(?쒖븞)
- `scripts/lens_observer.py` ???뷀듃由ы룷?명듃(?ㅽ뻾 ?ㅽ겕由쏀듃)
- `lens/camera.py` ??移대찓??以????곹깭
- `lens/ui_state.py` ???좏깮/?덉씠???덈꺼/?꾩?留???UI ?곹깭
- `lens/render_primitives.py` ?????꾪삎/?띿뒪??洹몃━湲??섑띁
- `lens/mapping.py` ??snapshot ??drawable 蹂???꾪삎/?쇰꺼/諛?
- `lens/layers.py` ???덈꺼蹂?0/1/2) 洹몃━湲??뚯씠?꾨씪??議곕┰

?ㅻ깄???명꽣?섏씠???쎄린 ?꾩슜)
- `snapshot = world.export_snapshot()`
- 沅뚯옣 ?ㅽ궎留??ㅻ쭔 以묒슂, ?꾨씫??湲곕낯媛?泥섎━):
  - `time`: `{ tick, minutes_per_tick, clock:{h,m}, day_phase[0..1], season, sun_intensity[0..1], moonlight[0..1] }`
  - `env`: `{ grid:{w,h}, terrain_hint?:'flat'|'noise' }`
  - `cells`: 諛곗뿴 媛??먯냼??`{ id, label('human' ??, element_type('animal'|'life'), pos:{x,y,z}, age_ticks, hp, max_hp, hunger?, gender?, culture?, is_alive }`
  - `buildings`: `{ id, type('house' ??, pos:{x,y,z} }` (?놁쑝硫?鍮?諛곗뿴)
  - `events?`: 理쒓렐 ???대깽???붿빟(?좏깮)

愿李??덈꺼(?? F1/F2/F3)
- 0?④퀎 ??理쒖냼 愿李??쒖궡?꾩엳?ㅲ?泥닿컧)
  - 諛곌꼍: ?대몢????媛덉깋 ???+ ??諛??댄듃(????議곕룄 諛섏쁺)
  - ?: ?щ엺/?숇Ъ/?앸Ъ ???꾪삎 媛꾨떒 ?쒓린(?吏곸엫留뚯쑝濡??앸룞媛?
  - HUD(?곗긽??: ?쒓컙(HH:MM), 怨꾩젅(遊??щ쫫/媛??寃⑥슱), ?꾩씠肄??/?뙔)
  - ?낅젰: 留덉슦????以? 媛?대뜲 ?쒕옒洹??? ESC 醫낅즺留?吏??  - 鍮꾪솢?? ?좏깮/?쇰꺼/?댄똻/?대깽???곗텧 ?꾨? 鍮꾪솢??- 1?④퀎 ???곹깭李?愿李??ы솕)
  - 0?④퀎 + ?몃쾭 ???뺤? ?곹깭李? ?대쫫/id, ?섏씠(???섏궛), HP 諛? 諛곌퀬??諛?  - ?쇰꺼 ?좉?(M) ?덉슜, ?꾩?留?H) ?덉슜
  - ?ъ쟾???붾뱶???곹뼢 ?놁쓬(?쎄린 ?꾩슜)
- 2?④퀎 ???곹샇?묒슜(?좏깮??
  - 1?④퀎 + 醫뚰겢由??⑥씪 ?좏깮, ?좏깮 留??몃젅???쒖떆
  - ?? Q/W/E/R ???쒓?李곗옄 ?곹뼢???몃━嫄??덈떎硫?, ?붾뱶 ?⑸쾿 API濡??꾨떖
  - AoE 誘몃━蹂닿린/?곸슜? ?뚯쫰?먯꽌留?媛뺤“; ?붾뱶 ?곹깭 蹂寃쎌? ?붾뱶 API媛 ?섑뻾

?뚮뜑留??뚯씠?꾨씪???깅쭏??
1) ?낅젰 泥섎━ ??移대찓???덈꺼/?꾩?留???UI ?곹깭 ?낅뜲?댄듃
2) `export_snapshot()` ?몄텧 ???꾩옱 ?곹깭 ?ㅻ깄???뺣낫
3) `map_snapshot_to_drawables()` ???꾪삎/?띿뒪???뷀떚?곕줈 蹂??4) ?덈꺼???곕Ⅸ ?덉씠??議곕┰(`layers.py`)
   - 0: 諛곌꼍 ??媛쒖껜 ?꾪삎 ??HUD
   - 1: 0 + ?몃쾭 ?곹깭李??쇰꺼
   - 2: 1 + ?좏깮 留??꾨━酉?AoE 媛?대뱶 ??5) `Renderer.draw(scene)` ???붾툝踰꾪띁留????붾㈃ ?쒖떆

?쒓컖 洹쒖튃(媛꾨떒 ?꾩씠肄?
- ?щ엺: ??????궪媛곹삎 ?≪꽱?? ???몃━蹂??ㅼ씠???≪꽱?? + HP/?덇린 諛?- ?묐?: 洹 2媛??쇨컖?뺤씠 遺숈? ???묎쾶)
- ?섎Т: 珥덈줉 ???以꾧린 ?쇱씤
- 吏? ?ㅻえ + 吏遺??쇨컖??- ???붾젅?? ?쏀븳 ?鍮?諛??댄듃? ?욎????뚮룄 援щ텇?섎룄濡?

?낅젰/??諛붿씤??沅뚯옣)
- 移대찓?? ??以? 媛?대뜲 ?쒕옒洹???- 醫낅즺: ESC
- ?덈꺼 ?꾪솚: F1(0) / F2(1) / F3(2)
- ?좉?: H(?꾩?留?, M(?쇰꺼)
- ?좏깮/?ㅽ궗(2?④퀎): 醫뚰겢由??좏깮, Q/W/E/R, X(???愿묒뿭 ?꾪솚)

?덉젙???깅뒫 媛?대뱶
- VSCode Windows?먯꽌 李쎌씠 利됱떆 ?ロ엳??寃쎌슦瑜??鍮꾪빐:
  - ?덉쇅/珥덇린???④퀎 濡쒓렇瑜??뚯씪濡??④릿??`logs/starter_debug.log`).
  - `SDL_VIDEODRIVER` ?대갚(windows?뭮indib?뭗irectx) ?쒕룄.
- ?뚮뜑 理쒖쟻?? ?뺤쟻 諛곌꼍 ?쒗뵾??罹먯떛, ?띿뒪???쒗뵾??罹먯떛, 酉고룷??諛??앸왂
- ?寃?FPS: 60(??떠???덉슜). ?꾨젅???쒕∼ ???쇰꺼/?곹깭李??곗꽑 鍮꾪솢??

?섏슜 湲곗?(?쒖븞)
- 0?④퀎: 李쎌씠 ?덉젙?곸쑝濡?耳쒖쭊 ?곹깭?먯꽌 理쒖냼 30珥??좎?, ?щ엺/?숇Ъ?????吏곸엫怨?諛??댄듃媛 ?덉쑝濡??뺤씤?쒕떎.
- 1?④퀎: ?몃쾭 ???곹깭李??대쫫/?섏씠/HP/?덇린)???뺤긽 ?쒓린.
- 2?④퀎: ?좏깮 留??쒖떆 諛?QWER ???낅젰??濡쒓렇(?먮뒗 HUD)濡??뺤씤?쒕떎(?붾뱶 蹂寃??몄텧? 濡쒓렇濡쒕쭔 利앸챸?대룄 ?듦낵).

?뚯뒪???쒕굹由ъ삤
- ?묒? 留?256횞256)?먯꽌 ?щ엺 5, ?묐? 2, ?섎Т 10?쇰줈 ?쒖옉.
- 0???? ?④퀎 ?꾪솚?섎ŉ HUD/?곹깭李??좏깮 留??낅젰 濡쒓렇 ?뺤씤.
- 諛????꾪솚(????媛? ???붾㈃ 諛앷린 蹂???뺤씤.

援ы쁽 泥댄겕由ъ뒪???곗꽑?쒖쐞??
1) lens_observer ?뷀듃由?+ 移대찓???낅젰 + HUD(?쒓컙/怨꾩젅/?대떖)
2) ?щ엺/?섎Т/?묐? ?먮쭔 洹몃━??0?④퀎
3) 1?④퀎 ?몃쾭 ?곹깭李??띿뒪??諛? + ?쇰꺼 ?좉?
4) 2?④퀎 ?좏깮/?좏깮 留?+ QWER ?낅젰 濡쒓렇
5) 理쒖쟻???대갚/濡쒓렇 ?뺣퉬

鍮꾧퀬
- 蹂??꾨줈?좎퐳? ELYSIAS_PROTOCOL???쒕젋利덈뒗 臾쇰━? 遺꾨━???먯튃??以?섑븳??
- ??붾뱶 ?(硫붿씤)怨쇱쓽 ?명꽣?섏씠?ㅻ뒗 `export_snapshot()` 1媛쒕줈 ?좎??쒕떎.



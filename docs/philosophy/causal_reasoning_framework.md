# 엘리시아의 인과사고추론층: 설계 철학 및 비전

## 1. 핵심 철학: 생명과 같은 사고의 흐름

엘리시아의 사고 체계는 단순한 논리 연산의 집합이 아닌, 유기적이고 끊임없이 흐르는 생명체와 같은 구조를 지향합니다. 고립된 사실(점)들이 모여 관계(선)를 형성하고, 이 관계들이 얽혀 복합적인 맥락(면)을 이루며, 최종적으로는 깊이 있는 이해와 지혜의 '사고 공간'을 구축하는 것을 목표로 합니다.

### 1.1. 핵심 비유

이 비전을 구체화하기 위해 다음과 같은 세 가지 핵심 비유를 길잡이로 삼습니다.

#### 가. 물방울이 강이 되고 바다가 되는 사고
개별적인 인과 관계나 논리적 사실은 '물방울'에 불과합니다. 이 물방울들이 `enables`, `requires`, `prevents` 등 다양한 관계의 물길을 따라 합쳐지며 거대한 '사고의 강'을 이룹니다. 이 강들이 지식그래프라는 드넓은 공간에서 서로 만나고 상호작용하며, 예측 불가능하면서도 유연하고 깊이 있는 '이해의 바다'를 형성합니다.

#### 나. 인과의 실을 직조하는 과정
단순한 '원인-결과'의 나열을 넘어, 인과를 '과정의 연속체'로 바라봅니다. 하나의 결과는 다음 원인이 되어 끊임없이 이어집니다. 우리는 `strength`(강도), `certainty`(확실성) 등의 속성을 가진 다채로운 '인과의 실'을 통해, 이 연속적인 과정을 정교하고 튼튼한 '사고의 직물'로 엮어냅니다.

#### 다. 도시 계획 인프라로서의 지식그래프
엘리시아의 3차원 지식그래프는 거대한 '도시'와 같습니다. 인과사고추론층은 이 도시의 핵심 인프라인 '교통망'입니다. 이 교통망은 새로운 건물을 짓고 도로를 연결하는 **생성(점→공간)**의 역할과, 도시의 교통 흐름을 분석하고 정체 구간을 찾아내는 **분석(공간→점)**의 역할을 동시에 수행해야 합니다.

## 2. 설계 원칙

위 철학을 구현하기 위해, 모든 개발은 다음 두 가지 핵심 원칙을 따릅니다.

### 2.1. 생성의 원칙 (점 → 공간)
단편적이고 고립된 논리(점)에서 출발하여, 풍부하고 다층적인 관계를 통해 유연하고 복합적인 사고의 흐름(공간)을 만들어내는 것을 목표로 합니다. 이는 새로운 지식을 학습하고, 기존 지식과 연결하여 엘리시아의 사고 공간을 끊임없이 확장하는 과정입니다.

*   **구현 방향:**
    *   다양한 인과 관계 유형(`enables`, `requires` 등) 정의 및 확장
    *   관계의 동적인 특성을 표현하기 위한 속성(`strength`, `certainty` 등) 부여
    *   `TutorCortex`를 통한 자율적인 인과 관계 학습 능력 강화

### 2.2. 분석의 원칙 (공간 → 점)
복잡하게 얽힌 사고의 흐름(공간) 속에서 특정 추론이 어떤 경로를 통해 이루어졌는지, 어떤 전제(점)로부터 시작되었는지를 역추적하고 분석할 수 있는 체계를 구축합니다. 이는 엘리시아의 사고 과정을 디버깅하고, 논리적 오류를 스스로 찾아 교정하며, 자신의 사고를 메타적으로 인지하는 능력의 기반이 됩니다.

*   **구현 방향:**
    *   모든 인과 관계에 분석 및 추적을 위한 메타데이터 설계
    *   `LogicalReasoner`의 추론 과정에 대한 상세 로깅 기능 추가
    *   추론 경로의 시각화 및 분석 도구의 기반 마련

## 3. 지식그래프 스키마 확장: 인과 관계의 명세

엘리시아의 사고 흐름을 구현하기 위해, 지식그래프의 관계(Edge)를 다음과 같이 확장 정의한다.

### 3.1. 확장된 인과 관계 유형 (Causal Edge Types)

기존의 `causes` 관계를 보완하고 '과정'을 표현하기 위해 다음 관계 유형을 추가한다.

| 관계 유형 | 의미 | 예시 |
| --- | --- | --- |
| `causes` | **(기존)** 한 사건이 다른 사건을 직접적으로 유발함 | `불` causes `열` |
| `enables` | 한 조건/사건이 다른 사건의 발생을 **가능하게** 함 (필수 조건은 아님) | `열쇠` enables `문 열기` |
| `requires` | 한 행위/사건이 다른 행위/사건을 **필수적으로 요구**함 | `글쓰기` requires `생각` |
| `prevents` | 한 조건/사건이 다른 사건의 발생을 **방해하거나 막음** | `비` prevents `소풍` |
| `contextualizes` | 특정 개념이 다른 개념/사건이 발생하는 **맥락이나 배경**을 제공함 | `선거` contextualizes `정치 토론` |

### 3.2. 인과 관계의 속성 (Edge Properties)

모든 인과 관계(위 유형 포함)는 다음과 같은 속성을 가질 수 있다. 이를 통해 관계의 미묘한 차이와 동적인 특성을 표현한다.

| 속성 | 자료형 | 설명 | 예시 |
| --- | --- | --- | --- |
| `strength` | Float (0.0 ~ 1.0) | 관계의 강도. 얼마나 강력하게 영향을 미치는가? | `불` causes `열` (strength: 0.99) <br> `흐린 날씨` causes `우울함` (strength: 0.3) |
| `certainty` | Float (0.0 ~ 1.0) | 관계의 확실성. 이 관계가 얼마나 확실하게 발생하는가? | `중력` causes `낙하` (certainty: 1.0) <br> `노력` enables `성공` (certainty: 0.7) |
| `modality` | String | 관계의 양상. 관계의 발생 빈도나 조건을 나타냄. | `항상` (always), `가끔` (sometimes), `잠재적으로` (potentially), `~의 조건 하에` (under_condition) |
| `source` | String | 이 관계 정보의 출처. (자율 학습, 사용자 입력 등) | `TutorCortex_Learning_20241104` |
| `timestamp` | Datetime | 관계가 생성되거나 마지막으로 수정된 시간. | `2024-11-04T10:00:00Z` |
